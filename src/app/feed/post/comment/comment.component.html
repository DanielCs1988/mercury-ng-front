<div *ngIf="user" class="pane">

    <span *ngIf="!editing">
        <a routerLink="/profile/{{ comment.user.id }}">
            <img src="{{ comment.user.pictureUrl }}" width="30" height="30"
                 alt="Profile picture" class="rounded-circle">
            <span class="ml-1" *ngIf="!editing">
                {{ comment.user.givenName }} {{ comment.user.familyName }}
            </span>
        </a>
        <span> {{ comment.text }}</span>
    </span>

    <form *ngIf="editing" #commentForm="ngForm" (ngSubmit)="onUpdateComment()">
        <div class="form-group">
            <img src="{{ comment.user.pictureUrl }}" width="30" height="30"
                 alt="Profile picture" class="rounded-circle">
            <input type="text" class="form-control ml-3 d-inline-block w-75" name="text" required minlength="1" ngModel>
        </div>
    </form>

    <span *ngIf="comment.user.id === user.id && !editing" class="controls">
        <fa-icon [icon]="editIcon" class="green-icon" (click)="onStartEditing()"></fa-icon>
        <fa-icon [icon]="deleteIcon" class="red-icon" (click)="onDeleteComment()"></fa-icon>
    </span>

  <div>
      <span class="text-muted">At: {{ comment.createdAt | date:'mediumTime' }}</span>
      <fa-icon [icon]="likeIcon" (click)="onLike()" class="green-icon" [ngClass]="{'disabled': liked}"></fa-icon>
      {{ comment.likes.length }} {{ comment.likes.length > 1 ? 'likes' : 'like' }}
      <fa-icon [icon]="dislikeIcon" (click)="onDislike()" class="red-icon" [ngClass]="{'disabled': !liked}"></fa-icon>
  </div>
</div>
